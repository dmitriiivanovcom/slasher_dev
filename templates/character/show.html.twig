{% extends 'base.html.twig' %}

{% block title %}{{ character.name }}{% endblock %}

{% block body %}
    <div class="card" style="background: url('{{ character.backgroundImage ? asset('uploads/characters/' ~ character.backgroundImage) : '' }}') no-repeat center center; background-size: cover;">

        <div class="corner-block top-left">
            <div class="name slasher-heading">{{ character.name }}</div>
            <div>{{ character.role }}</div>
        </div>

        <div class="corner-block top-right">
            <div class="stat-label">Сила</div>
            <div class="stars">
                {% for i in 1..5 %}<div class="star {{ i <= character.strength ? 'filled' : '' }}"></div>{% endfor %}
            </div>
            <div class="stat-label">Ловкость</div>
            <div class="stars">
                {% for i in 1..5 %}<div class="star {{ i <= character.agility ? 'filled' : '' }}"></div>{% endfor %}
            </div>
            <div class="stat-label">Интеллект</div>
            <div class="stars">
                {% for i in 1..5 %}<div class="star {{ i <= character.intelligence ? 'filled' : '' }}"></div>{% endfor %}
            </div>
            <div class="stat-label">Харизма</div>
            <div class="stars">
                {% for i in 1..5 %}<div class="star {{ i <= character.charisma ? 'filled' : '' }}"></div>{% endfor %}
            </div>
        </div>

        <div class="corner-block bottom-left">
            {% if character.description %}<p><strong>Описание:</strong> {{ character.description }}</p>{% endif %}
            {% if character.strengths %}<p><strong>Сильная сторона:</strong> {{ character.strengths }}</p>{% endif %}
            {% if character.weaknesses %}<p><strong>Слабая сторона:</strong> {{ character.weaknesses }}</p>{% endif %}
        </div>

        <div class="corner-block bottom-right">
            {% if character.motto %}<div class="motto">"{{ character.motto }}"</div>{% endif %}
            {% if character.quote %}<div class="motto" style="margin-top: 1rem;">"{{ character.quote }}"</div>{% endif %}
        </div>

    </div>
    
    <div class="d-flex justify-content-center align-items-center" style="gap: 20px; margin-top: -20px;">
        <a class="menu-link" href="{{ path('app_character_index') }}">Back to List</a>
        <a class="menu-link" href="{{ path('app_character_edit', {'id': character.id}) }}">Edit</a>
        {{ include('character/_delete_form.html.twig') }}
    </div>
{% endblock %}
