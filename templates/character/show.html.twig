{% extends 'base.html.twig' %}

{% block title %}{{ character.name }}{% endblock %}

{% block body %}
<div class="show-page-wrapper">
    <div class="card" style="background-image: url('{{ character.portrait ? asset('uploads/characters/' ~ character.portrait) : (character.backgroundImage ? asset('uploads/characters/' ~ character.backgroundImage) : asset('img/default_bg.jpg')) }}');">

        <div class="corner-block top-left">
            <div class="name slasher-heading">{{ character.name }}</div>
            <div>{{ character.role }}</div>
        </div>

        <div class="corner-block top-right">
             <div class="stat-line">
                <div class="stat-label">Сила</div>
                <div class="stars">
                    {% for i in 1..5 %}<div class="star {{ i <= character.strength ? 'filled' : '' }}"></div>{% endfor %}
                </div>
            </div>
            <div class="stat-line">
                <div class="stat-label">Ловкость</div>
                <div class="stars">
                    {% for i in 1..5 %}<div class="star {{ i <= character.agility ? 'filled' : '' }}"></div>{% endfor %}
                </div>
            </div>
            <div class="stat-line">
                <div class="stat-label">Интеллект</div>
                <div class="stars">
                    {% for i in 1..5 %}<div class="star {{ i <= character.intelligence ? 'filled' : '' }}"></div>{% endfor %}
                </div>
            </div>
            <div class="stat-line">
                <div class="stat-label">Харизма</div>
                <div class="stars">
                    {% for i in 1..5 %}<div class="star {{ i <= character.charisma ? 'filled' : '' }}"></div>{% endfor %}
                </div>
            </div>
        </div>

        <div class="corner-block bottom-left">
            {% if character.description %}<p><strong>Описание:</strong> {{ character.description }}</p>{% endif %}
            {% if character.strengths %}<p><strong>Сильная сторона:</strong> {{ character.strengths }}</p>{% endif %}
            {% if character.weaknesses %}<p><strong>Слабая сторона:</strong> {{ character.weaknesses }}</p>{% endif %}
        </div>

        <div class="corner-block bottom-right">
            {% if character.motto %}<div class="motto">"{{ character.motto }}"</div>{% endif %}
            {% if character.quote %}<div class="motto" style="margin-top: 1rem;">"{{ character.quote }}"</div>{% endif %}
        </div>

    </div>
    
    <div class="action-buttons-container">
        <a class="menu-link" href="{{ path('app_character_index') }}">Back to list</a>
        <a class="menu-link" href="{{ path('app_character_edit', {'id': character.id}) }}">Edit</a>
        {{ include('character/_delete_form.html.twig') }}
    </div>
</div>
{% endblock %}
